{% extends "base.html" %}
{% block title %}Register - BeaversCasino{% endblock %}
{% block extra_js %}
<script src="{{ url_for('static', filename='js/auth.js') }}"></script>
{% endblock %}

{% block content %}
<div class="card" style="max-width: 420px; margin: 2rem auto;">
    <h2>Создать аккаунт</h2>

    <!-- Важно: форма должна иметь csrf_token() -->
    <form id="register-form">
        <!-- Это поле ОБЯЗАТЕЛЬНО для CSRF защиты -->
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

        <div class="form-group">
            <label for="reg-username" class="form-label">Логин</label>
            <input type="text" id="reg-username" class="form-control" required minlength="3" maxlength="20">
        </div>

        <div class="form-group">
            <label for="reg-email" class="form-label">Email</label>
            <input type="email" id="reg-email" class="form-control" required>
        </div>

        <div class="form-group">
            <label for="reg-password" class="form-label">Пароль</label>
            <input type="password" id="reg-password" class="form-control" required minlength="8">
            <small class="text-muted">
                Минимум 8 символов: заглавные, строчные, цифра и спецсимвол
            </small>
        </div>

        <div class="form-group">
            <label for="reg-confirm-password" class="form-label">Подтвердите пароль</label>
            <input type="password" id="reg-confirm-password" class="form-control" required>
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 12px;">
            Зарегистрироваться
        </button>
    </form>

    <div style="margin-top: 1.5rem; text-align: center;">
        <p>Уже есть аккаунт? <a href="/login">Войти</a></p>
    </div>
</div>
{% endblock %}
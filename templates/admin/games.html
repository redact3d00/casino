{% extends "admin/base.html" %}
{% block title %}Игры{% endblock %}
{% block page_title %}Управление играми{% endblock %}

{% block content %}
<h3>Игры</h3>
<div class="data-table">
  <table>
    <thead>
      <tr><th>ID</th><th>Название</th><th>Категория</th><th>RTP</th><th>Действия</th></tr>
    </thead>
    <tbody id="games-table"></tbody>
  </table>
</div>
<script>
fetch('/api/games/available', { credentials: 'include' })
  .then(r => r.json())
  .then(d => {
    document.getElementById('games-table').innerHTML = d.games.map(g => `
      <tr>
        <td>${g.id}</td>
        <td>${g.title}</td>
        <td>${g.category}</td>
        <td>${g.rtp}%</td>
        <td>
          <button class="btn btn-sm btn-warning">Редактировать</button>
          <button class="btn btn-sm btn-danger">Отключить</button>
        </td>
      </tr>
    `).join('');
  });
</script>
{% endblock %}
{% extends "admin/base.html" %}
{% block title %}Персонал{% endblock %}
{% block page_title %}Управление персоналом{% endblock %}

{% block content %}
<h3>Список персонала</h3>
<div class="data-table">
  <table>
    <thead>
      <tr><th>ID</th><th>Логин</th><th>Email</th><th>Роль</th><th>Действия</th></tr>
    </thead>
    <tbody id="staff-table"></tbody>
  </table>
</div>
<script>
fetch('/api/admin/staff/list', { credentials: 'include' })
  .then(r => r.json())
  .then(d => {
    document.getElementById('staff-table').innerHTML = d.staff.map(s => `
      <tr>
        <td>${s.id}</td>
        <td>${s.username}</td>
        <td>${s.email}</td>
        <td>${s.role}</td>
        <td><button class="btn btn-sm btn-danger">Удалить</button></td>
      </tr>
    `).join('');
  });
</script>
{% endblock %}